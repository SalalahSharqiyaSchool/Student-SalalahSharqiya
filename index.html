<style>
    :root {
        --deep-green: #061f1c;
        --gold-primary: #c5a059;
        --gold-soft: #e3c08d;
        --glass: rgba(255, 255, 255, 0.08);
        --border: rgba(255, 255, 255, 0.15);
        --text: #e0e6e6;
    }

    body {
        font-family: 'Almarai', sans-serif;
        margin: 0; background: var(--deep-green);
        background-image: radial-gradient(circle at top right, #0a3d34 0%, var(--deep-green) 70%);
        color: var(--text); min-height: 100vh; line-height: 1.6;
    }

    .container { width: 95%; max-width: 1100px; margin: 20px auto; }

    /* --- تعديل بطاقة التحليل (Dashboard) لتناسب الهاتف والحاسوب --- */
    .student-dashboard {
        display: grid;
        /* على الحاسوب تظهر 4 بطاقات بجانب بعضها */
        grid-template-columns: repeat(4, 1fr);
        gap: 12px; margin-bottom: 25px;
    }

    .info-card {
        background: var(--glass);
        border: 1px solid var(--border);
        padding: 15px 10px; border-radius: 15px;
        text-align: center; backdrop-filter: blur(10px);
        transition: 0.3s;
        display: flex; flex-direction: column; justify-content: center;
    }

    .info-card i { color: var(--gold-primary); font-size: 1.2rem; margin-bottom: 8px; }
    .info-card .label { font-size: 0.75rem; opacity: 0.8; display: block; margin-bottom: 4px; }
    .info-card .value { font-size: 1rem; font-weight: 800; color: #fff; line-height: 1.2; }

    /* تمييز المجموع والترتيب */
    .highlight-card { 
        border: 1px solid var(--gold-primary); 
        background: rgba(197, 160, 89, 0.1); 
    }
    .highlight-card .value { color: var(--gold-primary); font-size: 1.4rem; }

    /* --- استعلامات الوسائط للجوال --- */
    @media (max-width: 768px) {
        .student-dashboard {
            /* على الهاتف تظهر بطاقتان في كل صف */
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        .info-card { padding: 12px 8px; }
        .info-card .value { font-size: 0.95rem; }
        .highlight-card .value { font-size: 1.2rem; }
    }

    @media (max-width: 380px) {
        /* للهواتف الصغيرة جداً */
        .info-card .value { font-size: 0.85rem; }
    }

    /* بقية التنسيقات الأصلية */
    .table-container {
        background: var(--glass); border-radius: 20px; 
        border: 1px solid var(--border); overflow-x: auto; margin-top: 20px;
    }
    table { width: 100%; border-collapse: collapse; min-width: 500px; }
    th { background: rgba(255,255,255,0.05); padding: 15px; text-align: right; color: var(--gold-soft); font-weight: 700; border-bottom: 2px solid var(--border); }
    td { padding: 15px; border-bottom: 1px solid var(--border); font-size: 1rem; }
    .grade-badge { background: rgba(197,160,89,0.2); color: var(--gold-primary); padding: 4px 10px; border-radius: 6px; font-weight: 800; }

    .action-bar { display: flex; justify-content: center; gap: 10px; margin-top: 25px; flex-wrap: wrap; }
    .btn { padding: 12px 25px; border-radius: 10px; border: none; font-weight: 800; cursor: pointer; display: flex; align-items: center; gap: 8px; font-size: 0.9rem; }
    .btn-primary { background: var(--gold-primary); color: var(--deep-green); }
    .btn-outline { background: transparent; border: 1px solid var(--gold-primary); color: #fff; }

    #ai-btn { position: fixed; bottom: 20px; right: 20px; width: 60px; height: 60px; background: var(--gold-primary); color: var(--deep-green); border-radius: 50%; display: none; align-items: center; justify-content: center; font-size: 28px; cursor: pointer; border: none; z-index: 1000; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
    #ai-window { position: fixed; bottom: 90px; right: 20px; width: 90%; max-width: 340px; height: 450px; background: #0a1a18; border: 1px solid var(--gold-primary); border-radius: 20px; display: none; flex-direction: column; z-index: 1000; overflow: hidden; }
    .ai-header { background: var(--gold-primary); color: var(--deep-green); padding: 12px; font-weight: 800; display: flex; justify-content: space-between; }
    .ai-body { flex: 1; padding: 12px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; }
    .bubble { padding: 10px; border-radius: 12px; max-width: 85%; font-size: 0.85rem; }
    .bot { background: var(--glass); align-self: flex-start; border: 1px solid var(--border); }
    .user { background: var(--gold-primary); color: var(--deep-green); align-self: flex-end; }

    .view { display: none; }
    .view.active { display: block; }
</style>
